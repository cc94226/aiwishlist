import{c as f,e as p,f as _}from"./wishService-BU8yXoRe.js";import{o as r,c as n,a as s,k as c,v as u,F as h,l as m,b,t as i,q as v}from"./vue-vendor-BrtzZnCP.js";import{_ as g}from"./index-rmr_7Jd5.js";import"./utils-B2RonjJ0.js";const k={name:"Home",data(){return{wishes:[],selectedJob:"å…¨éƒ¨",sortBy:"newest",jobs:[]}},computed:{filteredWishes(){let o=this.selectedJob==="å…¨éƒ¨"?this.wishes.filter(e=>e.status==="published"):_(this.selectedJob);return o=[...o].sort((e,d)=>this.sortBy==="newest"?new Date(d.createdAt)-new Date(e.createdAt):this.sortBy==="oldest"?new Date(e.createdAt)-new Date(d.createdAt):this.sortBy==="likes"?d.likes-e.likes:0),o}},mounted(){this.loadWishes(),this.jobs=p()},methods:{loadWishes(){this.wishes=f()},filterWishes(){},goToDetail(o){this.$router.push(`/wish/${o}`)},formatDate(o){return new Date(o).toLocaleDateString("zh-CN",{year:"numeric",month:"short",day:"numeric"})},getJobClass(o){return{å¼€å‘:"job-dev",è®¾è®¡:"job-design",è¡Œæ”¿:"job-admin"}[o]||""}}},y={class:"home"},D={class:"header"},W={class:"filter-section"},w=["value"],B={class:"wishes-grid"},C=["onClick"],J={class:"wish-header"},j={class:"wish-description"},A={class:"wish-footer"},V={class:"wish-meta"},x={class:"submitter"},N={class:"date"},S={class:"wish-stats"},z={class:"likes"},F={class:"comments"},H={key:0,class:"empty-state"};function L(o,e,d,T,a,l){return r(),n("div",y,[s("div",D,[e[8]||(e[8]=s("h2",null,"æ„¿æœ›å•å±•ç¤º",-1)),s("div",W,[e[6]||(e[6]=s("label",null,"æŒ‰èŒä¸šç­›é€‰ï¼š",-1)),c(s("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>a.selectedJob=t),onChange:e[1]||(e[1]=(...t)=>l.filterWishes&&l.filterWishes(...t))},[e[4]||(e[4]=s("option",{value:"å…¨éƒ¨"},"å…¨éƒ¨",-1)),(r(!0),n(h,null,m(a.jobs,t=>(r(),n("option",{key:t,value:t},i(t),9,w))),128))],544),[[u,a.selectedJob]]),e[7]||(e[7]=s("label",{class:"sort-label"},"æ’åºæ–¹å¼ï¼š",-1)),c(s("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>a.sortBy=t),onChange:e[3]||(e[3]=(...t)=>l.filterWishes&&l.filterWishes(...t))},[...e[5]||(e[5]=[s("option",{value:"newest"},"æœ€æ–°ä¼˜å…ˆ",-1),s("option",{value:"oldest"},"æœ€æ—§ä¼˜å…ˆ",-1),s("option",{value:"likes"},"ç‚¹èµæ•°æœ€å¤š",-1)])],544),[[u,a.sortBy]])])]),s("div",B,[(r(!0),n(h,null,m(l.filteredWishes,t=>(r(),n("div",{key:t.id,class:"wish-card",onClick:U=>l.goToDetail(t.id)},[s("div",J,[s("h3",null,i(t.title),1),s("span",{class:v(["job-badge",l.getJobClass(t.job)])},i(t.job),3)]),s("p",j,i(t.description),1),s("div",A,[s("div",V,[s("span",x,"æäº¤è€…ï¼š"+i(t.submitter),1),s("span",N,i(l.formatDate(t.createdAt)),1)]),s("div",S,[s("span",z,"ğŸ‘ "+i(t.likes),1),s("span",F,"ğŸ’¬ "+i(t.comments.length),1)])])],8,C))),128))]),l.filteredWishes.length===0?(r(),n("div",H,[...e[9]||(e[9]=[s("p",null,"æš‚æ— æ„¿æœ›æ•°æ®",-1)])])):b("",!0)])}const G=g(k,[["render",L],["__scopeId","data-v-0ce6ace7"]]);export{G as default};
