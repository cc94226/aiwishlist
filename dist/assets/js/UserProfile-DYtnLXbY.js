import{_ as u,l as d,s as f,g as p}from"./index-Ca8b0D0Z.js";import{r as v,o as n,c as l,a as t,t as i,j as c,v as b,n as U,b as m,w as _,f as g}from"./vue-vendor-CyCdHuvd.js";import"./utils-BSVtTUhg.js";const k={name:"UserProfile",data(){return{currentUser:null,userJob:""}},mounted(){this.loadUser()},methods:{loadUser(){this.currentUser=p(),this.currentUser&&(this.userJob=this.currentUser.job||"")},updateJob(){this.currentUser&&(this.currentUser.job=this.userJob,f(this.currentUser),alert("岗位信息已更新！现在可以在愿望详情页查看匹配度分析了。"))},logout(){d(),this.$router.push("/")}}},J={class:"user-profile"},w={key:0,class:"profile-card"},C={class:"profile-info"},x={class:"info-row"},V={class:"info-row"},h={class:"info-row"},j={class:"info-row"},N={class:"profile-actions"},y={key:1,class:"no-user"};function B(S,o,D,P,e,r){const a=v("router-link");return n(),l("div",J,[o[10]||(o[10]=t("h2",null,"用户信息",-1)),e.currentUser?(n(),l("div",w,[t("div",C,[t("div",x,[o[3]||(o[3]=t("label",null,"用户名：",-1)),t("span",null,i(e.currentUser.name),1)]),t("div",V,[o[4]||(o[4]=t("label",null,"角色：",-1)),t("span",null,i(e.currentUser.role==="admin"?"管理员":"普通用户"),1)]),t("div",h,[o[5]||(o[5]=t("label",null,"邮箱：",-1)),t("span",null,i(e.currentUser.email||"未设置"),1)]),t("div",j,[o[7]||(o[7]=t("label",null,"岗位：",-1)),c(t("select",{"onUpdate:modelValue":o[0]||(o[0]=s=>e.userJob=s),class:"job-select",onChange:o[1]||(o[1]=(...s)=>r.updateJob&&r.updateJob(...s))},[...o[6]||(o[6]=[U('<option value="" data-v-f6fe9dc8>请选择岗位</option><option value="开发" data-v-f6fe9dc8>开发</option><option value="设计" data-v-f6fe9dc8>设计</option><option value="行政" data-v-f6fe9dc8>行政</option><option value="产品" data-v-f6fe9dc8>产品</option><option value="运营" data-v-f6fe9dc8>运营</option><option value="测试" data-v-f6fe9dc8>测试</option><option value="其他" data-v-f6fe9dc8>其他</option>',8)])],544),[[b,e.userJob]])])]),t("div",N,[t("button",{class:"btn btn-logout",onClick:o[2]||(o[2]=(...s)=>r.logout&&r.logout(...s))},"退出登录")])])):(n(),l("div",y,[o[9]||(o[9]=t("p",null,"未登录",-1)),m(a,{to:"/",class:"link"},{default:_(()=>[...o[8]||(o[8]=[g("返回首页",-1)])]),_:1})]))])}const T=u(k,[["render",B],["__scopeId","data-v-f6fe9dc8"]]);export{T as default};
