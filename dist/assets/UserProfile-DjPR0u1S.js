import{_ as u,r as d,o as n,c as l,a as e,t as i,e as f,v as p,j as v,b as c,w as b,d as U,l as m,x as _,k}from"./index-DT7EbbfQ.js";const g={name:"UserProfile",data(){return{currentUser:null,userJob:""}},mounted(){this.loadUser()},methods:{loadUser(){this.currentUser=k(),this.currentUser&&(this.userJob=this.currentUser.job||"")},updateJob(){this.currentUser&&(this.currentUser.job=this.userJob,_(this.currentUser),alert("岗位信息已更新！现在可以在愿望详情页查看匹配度分析了。"))},logout(){m(),this.$router.push("/")}}},J={class:"user-profile"},w={key:0,class:"profile-card"},x={class:"profile-info"},C={class:"info-row"},V={class:"info-row"},h={class:"info-row"},j={class:"info-row"},N={class:"profile-actions"},y={key:1,class:"no-user"};function B(S,o,D,P,t,r){const a=d("router-link");return n(),l("div",J,[o[10]||(o[10]=e("h2",null,"用户信息",-1)),t.currentUser?(n(),l("div",w,[e("div",x,[e("div",C,[o[3]||(o[3]=e("label",null,"用户名：",-1)),e("span",null,i(t.currentUser.name),1)]),e("div",V,[o[4]||(o[4]=e("label",null,"角色：",-1)),e("span",null,i(t.currentUser.role==="admin"?"管理员":"普通用户"),1)]),e("div",h,[o[5]||(o[5]=e("label",null,"邮箱：",-1)),e("span",null,i(t.currentUser.email||"未设置"),1)]),e("div",j,[o[7]||(o[7]=e("label",null,"岗位：",-1)),f(e("select",{"onUpdate:modelValue":o[0]||(o[0]=s=>t.userJob=s),class:"job-select",onChange:o[1]||(o[1]=(...s)=>r.updateJob&&r.updateJob(...s))},[...o[6]||(o[6]=[v('<option value="" data-v-f6fe9dc8>请选择岗位</option><option value="开发" data-v-f6fe9dc8>开发</option><option value="设计" data-v-f6fe9dc8>设计</option><option value="行政" data-v-f6fe9dc8>行政</option><option value="产品" data-v-f6fe9dc8>产品</option><option value="运营" data-v-f6fe9dc8>运营</option><option value="测试" data-v-f6fe9dc8>测试</option><option value="其他" data-v-f6fe9dc8>其他</option>',8)])],544),[[p,t.userJob]])])]),e("div",N,[e("button",{class:"btn btn-logout",onClick:o[2]||(o[2]=(...s)=>r.logout&&r.logout(...s))},"退出登录")])])):(n(),l("div",y,[o[9]||(o[9]=e("p",null,"未登录",-1)),c(a,{to:"/",class:"link"},{default:b(()=>[...o[8]||(o[8]=[U("返回首页",-1)])]),_:1})]))])}const I=u(g,[["render",B],["__scopeId","data-v-f6fe9dc8"]]);export{I as default};
